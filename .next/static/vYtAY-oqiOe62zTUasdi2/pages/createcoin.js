(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{J2lA:function(e,a,n){"use strict";n.r(a);var t=n("hfKm"),r=n.n(t),c=n("2Eek"),o=n.n(c),l=n("XoMD"),i=n.n(l),u=n("Jo+v"),s=n.n(u),d=n("4mXO"),p=n.n(d),b=n("pLtp"),m=n.n(b),h=n("eVuF"),f=n.n(h),v=n("ln6h"),O=n.n(v),j=n("vYYK"),g=n("2wwy"),w=n.n(g),y=n("q1tI"),x=n.n(y),N=n("aQu0"),E=n("D1pA"),k=n("vFsZ"),S=n("TbSc"),C=n("umxb"),_=n("5XkN"),F=n("QetY"),q=n("vDqi"),D=n.n(q),G=n("rjN7"),K=n("xUX2"),T=n("nOHt"),X=n.n(T),Y=x.a.createElement;function A(e,a){var n=m()(e);if(p.a){var t=p()(e);a&&(t=t.filter((function(a){return s()(e,a).enumerable}))),n.push.apply(n,t)}return n}function P(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?A(Object(n),!0).forEach((function(a){Object(j.a)(e,a,n[a])})):i.a?o()(e,i()(n)):A(Object(n)).forEach((function(a){r()(e,a,s()(n,a))}))}return e}var I={year:"",mint:"",era:"",grade:"",index:"",media:""},J=[{key:"30's",text:"30's",value:"30's"},{key:"40's",text:"40's",value:"40's"}];a.default=function(e,a){var n=Object(y.useState)(I),t=n[0],r=n[1],c=Object(y.useState)(""),o=c[0],l=c[1],i=Object(y.useState)(!1),u=i[0],s=i[1],d=Object(y.useState)(!1),p=d[0],b=d[1],m=Object(y.useState)(!0),h=(m[0],m[1]),v=Object(y.useState)(""),g=v[0],q=v[1];function T(e){var a=e.target,n=a.name,t=a.value,c=a.files;"media"===n?(r((function(e){return P({},e,{media:c[0]})})),l(window.URL.createObjectURL(c[0]))):r((function(e){return P({},e,Object(j.a)({},n,t))}))}function A(){var e,a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(e=new FormData).append("file",t.media),e.append("upload_preset","builders-log"),e.append("cloud_name","dtan19"),r.next=6,O.a.awrap(D.a.post("https://api.cloudinary.com/v1_1/dtan19/image/upload",e));case 6:return a=r.sent,n=a.data.url,r.abrupt("return",n);case 9:case"end":return r.stop()}}),null,null,null,f.a)}return x.a.useEffect((function(){var e=w()(t).every((function(e){return Boolean(e)}));h(!e)}),[t]),Y(x.a.Fragment,null,Y(N.a,{as:"h2",block:!0},Y(E.a,{name:"add",color:"orange"}),"Create a Coin Record"),Y(k.a,{loading:p,error:Boolean(g),success:u,onSubmit:function(e){var a,n,c,o,l,i,u,d,p,m;return O.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,e.preventDefault(),b(!0),q(""),h.next=6,O.a.awrap(A());case 6:return a=h.sent,n="".concat(G.a,"/api/coin"),c=t.year,o=t.mint,l=t.era,i=t.grade,u=t.index,d={mediaUrl:a,year:c,mint:o,era:l,grade:i,index:u},h.next=12,O.a.awrap(D.a.post(n,d));case 12:p=h.sent,r(I),s(!0),m=p.data._id,X.a.push("/coin?_id=".concat(m)),h.next=22;break;case 19:h.prev=19,h.t0=h.catch(0),Object(K.a)(h.t0,q);case 22:return h.prev=22,b(!1),h.finish(22);case 25:case"end":return h.stop()}}),null,null,[[0,19,22,25]],f.a)}},Y(S.a,{error:!0,header:"Oops!",content:g}),Y(S.a,{success:!0,icon:"check",header:"Success",content:"Your coin has been created"}),Y(k.a.Group,{widths:"equal"},Y(k.a.Field,{control:C.a,name:"media",type:"file",label:"Media",content:"Select Image",onChange:T,required:!0})),Y(_.a,{src:o,rounded:!0,centered:!0,size:"small"}),Y(k.a.Group,null,Y("p",null,"Create your own coin record:")),Y(k.a.Group,{widths:"equal"},Y(k.a.Field,{control:C.a,name:"year",label:"Year",placeholder:"1961",value:t.year,onChange:T,required:!0}),Y(k.a.Field,{control:C.a,name:"index",label:"Index",placeholder:"1",value:t.index,onChange:T,required:!0})),Y(k.a.Group,{widths:"equal"},Y(k.a.Field,{control:C.a,name:"mint",label:"Mint",placeholder:"D",value:t.mint,onChange:T}),Y(k.a.Field,{control:C.a,name:"grade",label:"Grade",placeholder:"MS66",value:t.grade,onChange:T}),Y(k.a.Dropdown,{selection:!0,name:"era",label:"Era",placeholder:"Please select Era",options:J,onChange:function(e,a){I.era=a.value,console.log(I.era)}})),Y(k.a.Field,{control:F.a,color:"blue",content:"Create",type:"Submit"})))}},a6x5:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createcoin",function(){return n("J2lA")}])},aQu0:function(e,a,n){"use strict";var t=n("pVnL"),r=n.n(t),c=(n("Wt1U"),n("TSYQ")),o=n.n(c),l=(n("17x9"),n("q1tI")),i=n.n(l),u=n("ZeOK"),s=n("ICNK"),d=n("Y53p"),p=n("H+2d"),b=n("D1pA"),m=n("5XkN"),h=n("MZgk");function f(e){var a=e.children,n=e.className,t=e.content,c=o()("sub header",n),l=Object(s.a)(f,e),u=Object(d.a)(f,e);return i.a.createElement(u,r()({},l,{className:c}),p.a.isNil(a)?t:a)}f.handledProps=["as","children","className","content"],f.propTypes={},f.create=Object(h.e)(f,(function(e){return{content:e}}));var v=f;function O(e){var a=e.children,n=e.className,t=e.content,c=o()("content",n),l=Object(s.a)(O,e),u=Object(d.a)(O,e);return i.a.createElement(u,r()({},l,{className:c}),p.a.isNil(a)?t:a)}O.handledProps=["as","children","className","content"],O.propTypes={};var j=O;function g(e){var a=e.attached,n=e.block,t=e.children,c=e.className,l=e.color,h=e.content,f=e.disabled,O=e.dividing,w=e.floated,y=e.icon,x=e.image,N=e.inverted,E=e.size,k=e.sub,S=e.subheader,C=e.textAlign,_=o()("ui",l,E,Object(u.a)(n,"block"),Object(u.a)(f,"disabled"),Object(u.a)(O,"dividing"),Object(u.d)(w,"floated"),Object(u.a)(!0===y,"icon"),Object(u.a)(!0===x,"image"),Object(u.a)(N,"inverted"),Object(u.a)(k,"sub"),Object(u.b)(a,"attached"),Object(u.c)(C),"header",c),F=Object(s.a)(g,e),q=Object(d.a)(g,e);if(!p.a.isNil(t))return i.a.createElement(q,r()({},F,{className:_}),t);var D=b.a.create(y,{autoGenerateKey:!1}),G=m.a.create(x,{autoGenerateKey:!1}),K=v.create(S,{autoGenerateKey:!1});return D||G?i.a.createElement(q,r()({},F,{className:_}),D||G,(h||K)&&i.a.createElement(j,null,h,K)):i.a.createElement(q,r()({},F,{className:_}),h,K)}g.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],g.propTypes={},g.Content=j,g.Subheader=v;a.a=g}},[["a6x5",0,1,2,3,4,5,6,7,8]]]);