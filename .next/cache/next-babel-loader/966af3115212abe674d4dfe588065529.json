{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { Button, Segment, Divider } from 'semantic-ui-react';\nimport calculateCartTotal from '../../utils/calculateCartTotal';\n\nfunction CartSummary(_ref) {\n  var products = _ref.products,\n      handleCheckout = _ref.handleCheckout,\n      success = _ref.success;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      cartAmount = _React$useState2[0],\n      setCartAmount = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      stripeAmount = _React$useState4[0],\n      setStripeAmount = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isCartEmpty = _React$useState6[0],\n      setCartEmpty = _React$useState6[1];\n\n  React.useEffect(function () {\n    var _calculateCartTotal = calculateCartTotal(products),\n        cartTotal = _calculateCartTotal.cartTotal,\n        stripeTotal = _calculateCartTotal.stripeTotal;\n\n    setCartAmount(cartTotal);\n    setStripeAmount(stripeTotal);\n    setCartEmpty(products.length === 0);\n  }, [products]);\n  return __jsx(React.Fragment, null, __jsx(Divider, null), __jsx(Segment, {\n    clearing: true,\n    size: \"large\"\n  }, __jsx(\"strong\", null, \"Subtotal:\"), \" $\", cartAmount, __jsx(StripeCheckout, {\n    name: \"Builder's Log\",\n    amount: stripeAmount,\n    image: products.length > 0 ? products[0].product.mediaUrl : \"\",\n    currency: \"USD\",\n    shippingAddress: true,\n    billingAddress: true,\n    zipCode: true,\n    stripeKey: \"pk_test_td9kjGw7RnHpkwvsXtzoL76900Zc0P9ulc\",\n    token: handleCheckout,\n    triggerEvent: \"onClick\"\n  }, __jsx(Button, {\n    icon: \"cart\",\n    disabled: isCartEmpty || success,\n    color: \"teal\",\n    floated: \"right\",\n    content: \"Checkout\"\n  }))));\n}\n\nexport default CartSummary;","map":null,"metadata":{},"sourceType":"module"}