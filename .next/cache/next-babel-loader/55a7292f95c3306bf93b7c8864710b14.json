{"ast":null,"code":"import Order from '../../models/Order';\nimport jwt from 'jsonwebtoken';\nimport connectDb from '../../utils/connectDb';\nconnectDb;\nexport default (async (req, res) => {\n  try {\n    const {\n      userId\n    } = jwt.verify(req.headers.authorization, process.env.JWT_SECRET);\n    const orders = await Order.find({\n      user: userId\n    }).sort({\n      createdAt: \"desc\"\n    }).populate({\n      path: 'products.product',\n      model: \"Product\"\n    });\n    res.status(200).json({\n      orders\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(403).send(\"Please sign in again.\");\n  }\n});","map":null,"metadata":{},"sourceType":"module"}