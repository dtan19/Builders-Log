{"ast":null,"code":"import Product from '../../models/Product';\nexport default (async (req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n\n    case \"DELETE\":\n      await handleDeleteRequest(req, res);\n      break;\n\n    default:\n      res.status(405).send(`Method ${req.method} not allowed`);\n      break;\n  }\n});\n\nasync function handleGetRequest(req, res) {\n  const {\n    _id\n  } = req.query;\n  const product = await Product.findOne({\n    _id\n  });\n  res.status(200).json(product);\n}\n\nasync function handleDeleteRequest(req, res) {\n  const {\n    _id\n  } = req.query;\n  await Product.findOneAndDelete({\n    _id\n  });\n  res.status(204).json({});\n} //export default async (req, res) => {\n//    const { _id } = req.query\n//    const product = await Product.findOne({ _id })\n//    res.status(200).json(product)\n//};","map":{"version":3,"sources":["/Users/david/Dev/myapps/Builders-Log/pages/api/product.js"],"names":["Product","req","res","method","handleGetRequest","handleDeleteRequest","status","send","_id","query","product","findOne","json","findOneAndDelete"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,sBAApB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,UAAQD,GAAG,CAACE,MAAZ;AACI,SAAK,KAAL;AACI,YAAMC,gBAAgB,CAACH,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACJ,SAAK,QAAL;AACI,YAAMG,mBAAmB,CAACJ,GAAD,EAAMC,GAAN,CAAzB;AACA;;AACJ;AACIA,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB,UAASN,GAAG,CAACE,MAAO,cAA1C;AACA;AATR;AAWH,CAZD;;AAcA,eAAeC,gBAAf,CAAgCH,GAAhC,EAAqCC,GAArC,EAA0C;AACtC,QAAM;AAAEM,IAAAA;AAAF,MAAUP,GAAG,CAACQ,KAApB;AACA,QAAMC,OAAO,GAAG,MAAMV,OAAO,CAACW,OAAR,CAAgB;AAAEH,IAAAA;AAAF,GAAhB,CAAtB;AACAN,EAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqBF,OAArB;AACH;;AAED,eAAeL,mBAAf,CAAmCJ,GAAnC,EAAwCC,GAAxC,EAA6C;AACzC,QAAM;AAAEM,IAAAA;AAAF,MAAUP,GAAG,CAACQ,KAApB;AACA,QAAMT,OAAO,CAACa,gBAAR,CAAyB;AAAEL,IAAAA;AAAF,GAAzB,CAAN;AACAN,EAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB,EAArB;AACH,C,CACD;AACA;AACA;AACA;AACA","sourcesContent":["import Product from '../../models/Product'\n\nexport default async (req, res) => {\n    switch (req.method) {\n        case \"GET\":\n            await handleGetRequest(req, res);\n            break;\n        case \"DELETE\":\n            await handleDeleteRequest(req, res);\n            break;\n        default:\n            res.status(405).send(`Method ${req.method} not allowed`);\n            break;\n    }\n};\n\nasync function handleGetRequest(req, res) {\n    const { _id } = req.query\n    const product = await Product.findOne({ _id })\n    res.status(200).json(product)\n}\n\nasync function handleDeleteRequest(req, res) {\n    const { _id } = req.query\n    await Product.findOneAndDelete({ _id })\n    res.status(204).json({})\n}\n//export default async (req, res) => {\n//    const { _id } = req.query\n//    const product = await Product.findOne({ _id })\n//    res.status(200).json(product)\n//};\n\n"]},"metadata":{},"sourceType":"module"}