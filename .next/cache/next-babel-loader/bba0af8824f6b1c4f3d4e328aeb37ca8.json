{"ast":null,"code":"var _jsxFileName = \"/Users/david/Dev/myapps/Builders-Log/components/Product/AddProductToCart.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Input } from 'semantic-ui-react';\nimport { useRouter, Router } from 'next/router';\nimport axios from 'axios';\nimport baseUrl from '../../utils/baseUrl';\nimport cookie from 'nookies';\n\nfunction AddProductToCart({\n  user,\n  productId\n}) {\n  const [quantity, setQuantity] = React.useState(1);\n  const [loading, setLoading] = React.useState(false);\n  const router = useRouter();\n\n  async function handleAddProductToCart() {\n    const url = `${baseUrl}/api/cart`;\n    const payload = {\n      quantity,\n      productId\n    };\n    const token = cookie.get('token');\n    const headers = {\n      headers: {\n        Authorization: token\n      }\n    };\n    await axios.put(url, payload, headers);\n  }\n\n  ;\n  return __jsx(Input, {\n    type: \"number\",\n    min: \"1\",\n    placeholder: \"Quantity\",\n    value: quantity,\n    onChange: event => setQuantity(Number(event.target.value)),\n    action: user ? {\n      color: \"green\",\n      content: \"Add to Cart\",\n      icon: \"plus cart\",\n      onClick: handleAddProductToCart\n    } : {\n      color: 'blue',\n      content: 'Sign Up To purchase',\n      icon: 'signup',\n      onClick: () => router.push('/signup')\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  });\n}\n\nexport default AddProductToCart;","map":{"version":3,"sources":["/Users/david/Dev/myapps/Builders-Log/components/Product/AddProductToCart.js"],"names":["React","Input","useRouter","Router","axios","baseUrl","cookie","AddProductToCart","user","productId","quantity","setQuantity","useState","loading","setLoading","router","handleAddProductToCart","url","payload","token","get","headers","Authorization","put","event","Number","target","value","color","content","icon","onClick","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,aAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,MAAP,MAAmB,SAAnB;;AAGA,SAASC,gBAAT,CAA0B;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAA1B,EAA+C;AAC7C,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,KAAK,CAACY,QAAN,CAAe,CAAf,CAAhC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBd,KAAK,CAACY,QAAN,CAAe,KAAf,CAA9B;AACA,QAAMG,MAAM,GAAGb,SAAS,EAAxB;;AAEA,iBAAec,sBAAf,GAAuC;AACrC,UAAMC,GAAG,GAAI,GAAEZ,OAAQ,WAAvB;AACA,UAAMa,OAAO,GAAG;AAAER,MAAAA,QAAF;AAAYD,MAAAA;AAAZ,KAAhB;AACA,UAAMU,KAAK,GAAGb,MAAM,CAACc,GAAP,CAAW,OAAX,CAAd;AACA,UAAMC,OAAO,GAAG;AAAEA,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAEH;AAAjB;AAAX,KAAhB;AACA,UAAMf,KAAK,CAACmB,GAAN,CAAWN,GAAX,EAAgBC,OAAhB,EAAyBG,OAAzB,CAAN;AACD;;AAAA;AAED,SAAO,MAAC,KAAD;AACP,IAAA,IAAI,EAAC,QADE;AAEP,IAAA,GAAG,EAAC,GAFG;AAGP,IAAA,WAAW,EAAC,UAHL;AAIP,IAAA,KAAK,EAAEX,QAJA;AAKP,IAAA,QAAQ,EAAEc,KAAK,IAAIb,WAAW,CAACc,MAAM,CAACD,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAP,CALvB;AAMP,IAAA,MAAM,EAAEnB,IAAI,GAAE;AACZoB,MAAAA,KAAK,EAAE,OADK;AAEZC,MAAAA,OAAO,EAAE,aAFG;AAGZC,MAAAA,IAAI,EAAE,WAHM;AAIZC,MAAAA,OAAO,EAAEf;AAJG,KAAF,GAKR;AACFY,MAAAA,KAAK,EAAE,MADL;AAEFC,MAAAA,OAAO,EAAE,qBAFP;AAGFC,MAAAA,IAAI,EAAE,QAHJ;AAIFC,MAAAA,OAAO,EAAE,MAAMhB,MAAM,CAACiB,IAAP,CAAY,SAAZ;AAJb,KAXG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAkBD;;AAED,eAAezB,gBAAf","sourcesContent":["import React from 'react';\nimport { Input } from 'semantic-ui-react';\nimport { useRouter, Router } from 'next/router';\nimport axios from 'axios';\nimport baseUrl from '../../utils/baseUrl';\nimport cookie from 'nookies';\n\n\nfunction AddProductToCart({ user, productId }) {\n  const [quantity, setQuantity] = React.useState(1);\n  const [loading, setLoading] = React.useState(false);\n  const router = useRouter();\n\n  async function handleAddProductToCart(){\n    const url = `${baseUrl}/api/cart`\n    const payload = { quantity, productId }\n    const token = cookie.get('token')\n    const headers = { headers: { Authorization: token }}\n    await axios.put( url, payload, headers )\n  };\n\n  return <Input\n  type=\"number\"\n  min=\"1\"\n  placeholder=\"Quantity\"\n  value={quantity}\n  onChange={event => setQuantity(Number(event.target.value))}\n  action={user ?{\n    color: \"green\",\n    content: \"Add to Cart\",\n    icon: \"plus cart\",\n    onClick: handleAddProductToCart\n  } : {\n    color: 'blue',\n    content: 'Sign Up To purchase',\n    icon: 'signup',\n    onClick: () => router.push('/signup')\n  }}\n  />\n}\n\nexport default AddProductToCart;\n"]},"metadata":{},"sourceType":"module"}