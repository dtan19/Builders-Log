{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport AccountHeader from '../components/Account/AccountHeader';\nimport AccountOrders from '../components/Account/AccountOrders';\nimport AccountPermissions from '../components/Account/AccountPermissions';\nimport { parseCookies } from 'nookies';\nimport baseUrl from '../utils/baseUrl';\nimport axios from 'axios';\n\nfunction Account({\n  user,\n  orders\n}) {\n  return __jsx(React.Fragment, null, __jsx(AccountHeader, user), __jsx(AccountOrders, {\n    orders: orders\n  }), user.role === 'root' && __jsx(AccountPermissions, null));\n}\n\nAccount.getInitialProps = async ctx => {\n  const {\n    token\n  } = parseCookies(ctx);\n\n  if (!token) {\n    return {\n      orders: []\n    };\n  }\n\n  const payload = {\n    headers: {\n      Authorization: token\n    }\n  };\n  const url = `${baseUrl}/api/orders`;\n  const response = await axios.get(url, payload);\n  return response.data;\n};\n\nexport default Account;","map":null,"metadata":{},"sourceType":"module"}